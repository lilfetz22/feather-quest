# Binocular UI Visual Reference

## How It Works

### Visual Layout
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   BLACK MASK   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®          â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚           â”‚          â”‚           â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚             â”‚        â”‚             â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ”‚    [BIRD]    â”‚  â”¼â”¼â”¼  â”‚             â”‚â–ˆâ–ˆâ–ˆâ–ˆ     â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚             â”‚  â”¼â”¼â”¼  â”‚             â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚           â”‚  â”¼â”¼â”¼    â”‚           â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯  â”¼â”¼â”¼    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â”¼â”¼â”¼     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  RETICLE  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†‘                 â†‘
   Bird moves      Reticle stays
   with sway        centered
```

### Sway Behavior
```
Time: 0.0s          Time: 0.5s          Time: 1.0s
   â”¼                   â”¼                   â”¼
   ğŸ¦                 ğŸ¦                   ğŸ¦
(centered)      (moved left/up)      (moved right/down)

The bird oscillates smoothly using sine waves
Player moves mouse to counteract and keep bird centered
```

### Mouse Control Mechanic
```
Bird Position = Sway Offset - Mouse Offset

Example:
- Sway pushes bird 50px to the right
- Player moves mouse 50px to the right
- Bird appears centered (50 - 50 = 0)
```

## Component Hierarchy

```
BinocularView (CanvasLayer)
â”‚
â”œâ”€ BinocularMask (TextureRect)
â”‚  â””â”€ [Full screen black overlay with 2 circular cutouts]
â”‚
â”œâ”€ BirdContainer (Control) â† MOVES WITH SWAY
â”‚  â””â”€ BirdSprite (TextureRect)
â”‚     â””â”€ [Bird image that player is trying to identify]
â”‚
â””â”€ Reticle (Control) â† STAYS CENTERED
   â””â”€ ReticleSprite (TextureRect)
      â””â”€ [Crosshair helping player aim]
```

## Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Player    â”‚
â”‚ clicks bird â”‚
â”‚     cue     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  StartEncounter()      â”‚
â”‚  - Show binocular UI   â”‚
â”‚  - Load bird texture   â”‚
â”‚  - Reset timers        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Every Frame:         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Calculate sway     â”‚        â”‚
â”‚  2. Get mouse input    â”‚        â”‚
â”‚  3. Update position    â”‚        â”‚
â”‚  4. Track focus        â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
       â”‚                          â”‚
       â”‚ Focus < 100?             â”‚
       â”œâ”€ Yes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Focus >= 100?
       â””â”€ Yes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  CompleteFocus()       â”‚
              â”‚  - Calculate quality   â”‚
              â”‚  - Determine medal     â”‚
              â”‚  - End encounter       â”‚
              â”‚  - Show results        â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Parameters

| Parameter | Default | Effect |
|-----------|---------|--------|
| Stability | 0.5 | 0.0 = max sway, 1.0 = no sway |
| SwayAmplitude | 0.2 | Size of sway movement |
| MouseSensitivity | 1.0 | How responsive mouse is |
| ViewportSize | 400.0 | Scale factor for sway |

## Difficulty Progression

```
Easy    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ Stability: 0.8, Sway: 0.1
Medium  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ Stability: 0.5, Sway: 0.2
Hard    â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ Stability: 0.2, Sway: 0.3
Expert  â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ Stability: 0.0, Sway: 0.4
```

## Photo Quality Scoring

```
Bird Offset: How far from center the bird is
Stability:   Average centering during encounter

Quality = (1 - normalized_distance) Ã— stability

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Quality  â”‚  Medal   â”‚  Score â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â‰¥ 0.85   â”‚   Gold   â”‚  â­â­â­  â”‚
â”‚ 0.60-0.85  â”‚  Silver  â”‚  â­â­   â”‚
â”‚ 0.35-0.60  â”‚  Bronze  â”‚  â­    â”‚
â”‚   < 0.35   â”‚   None   â”‚  âœ—    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Example Usage Code

```csharp
// Start an encounter
binocularView.StartEncounter(birdTexture);

// During encounter (every frame)
Vector2Simple offset = binocularView.GetBirdOffsetFromCenter();
float quality = FocusCalculator.CalculatePhotoQuality(offset, stability);

// End encounter
binocularView.EndEncounter();
```

## Testing Shortcuts

- Press **'B'** to toggle binocular view on/off
- Press **ESC** to cancel encounter (with integration example)
- Adjust exported properties in Godot inspector for live tuning

## Architecture Benefits

âœ… **Pure Core Logic**: FocusCalculator has no Godot dependencies
âœ… **Migration Ready**: Core math stays identical when moving to Unity
âœ… **Testable**: 56 unit tests verify sway calculations
âœ… **Configurable**: All parameters exposed for tuning
âœ… **Documented**: Complete setup and integration guides included
